$body = Json::decode($request->getContent());
if (!isset($body['data'])) {
	throw new InvalidParameterException();
}
$data = $body['data'];

if (!isset($data['id'])) {
	throw new InvalidParameterException();
}

$id = $this->getParam('id');
${{ model }} = {{ class }}Query::create()->findOneById($id);
${{ model }}->set{{ foreign_class }}Id($data['id']);

// validate
if (!${{ model }}->validate()) {
	throw new ValidationException(${{ model }}->getValidationFailures());
} else {
	${{ model }}->save();
	return $this->response->run($request, ${{ model }});
}