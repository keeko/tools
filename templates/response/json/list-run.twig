$serializer = {{ class }}::getSerializer();
$resource = new Collection($data, $serializer);
$document = new Document($resource);

// meta
$document->setMeta([
	'total' => $data->getNbResults(),
	'first' => $data->getFirstPage(),
	'next' => $data->getNextPage(),
	'previous' => $data->getPreviousPage(),
	'last' => $data->getLastPage()
]);

// return response
return new JsonResponse($document->toArray());